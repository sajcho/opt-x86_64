# Description:	Documentation Utilities for Python3
# URL:		https://pypi.python.org/pypi/docutils
# Maintainer:	sajcho, saux dot aarch64 at gmail dot com
# Depends on:	python3-setuptools

name=python3-docutils
_realname=docutils
version=0.20.1
release=1
source=(https://files.pythonhosted.org/packages/source/d/${_realname}/${_realname}-${version}.tar.gz)

build() {
	cd ${_realname}-${version}

	/usr/bin/python3 setup.py build

	/usr/bin/python3 setup.py install \
		--prefix=/usr \
		--optimize=1 \
		--skip-build \
		--root=$PKG

	# Remove .py extension and add version suffix to executable files.
	local path; for path in $PKG/usr/bin/*.py; do
		mv "$path" "${path/.py/}"
		ln -sfv "$(basename "${path/.py/}")" "$path"
		ln -sfv "$(basename "${path/.py/}")" "${path/.py/}-3"
	done
}
