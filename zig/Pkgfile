# Description:	General-purpose programming language designed for robustness, optimality, and maintainability
# URL:		https://ziglang.org/
# Maintainer:	sajcho, saux dot aarch64 at gmail dot com
# Depends on:	lld llvm-toolchain

name=zig
version=0.13.0
release=1
source=(https://ziglang.org/download/${version}/${name}-${version}.tar.xz)

build() {
	cd ${name}-${version}

	mkdir build
	cd build

	cmake .. -G Ninja \
		-DCMAKE_BUILD_TYPE=Release \
		-DCMAKE_INSTALL_PREFIX=/usr \
		-DCMAKE_VERBOSE_MAKEFILE=ON \
		-DZIG_VERSION=${version} \
		-DZIG_SHARED_LLVM=ON \
		-DZIG_TARGET_MCPU=baseline \
		-Wno-dev

	ninja -v

	DESTDIR=$PKG ninja install
}
