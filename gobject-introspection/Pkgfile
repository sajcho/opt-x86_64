# Description:	Introspection system for GObject-based libraries.
# URL:		https://wiki.gnome.org/action/show/Projects/GObjectIntrospection
# Maintainer:	sajcho, saux dot aarch64 at gmail dot com
# Depends on:	glib

name=gobject-introspection
version=1.70.0
release=2
source=(https://download.gnome.org/sources/${name}/${version%.*}/${name}-${version}.tar.xz \
	${name}-${version}-build_fix-1.patch)

build() {
	cd ${name}-${version}

	patch -p1 -i $SRC/${name}-${version}-build_fix-1.patch

	build-meson \
		-Dcairo=disabled \
		-Ddoctool=disabled \
		. build

	meson compile ${JOBS:+-j ${JOBS}} -v -C build

	DESTDIR=$PKG meson install --no-rebuild -C build
}
